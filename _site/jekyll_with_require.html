<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Jekyll with Require.js</title>
		<link rel="stylesheet" href="/assets/css/styles.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css"
		/>
		<script src="https://kit.fontawesome.com/7c7973c6b2.js"></script>
		<!-- <link
			rel="stylesheet"
			type="text/css"
			href="assets/slick/slick-1.8.1/slick/slick.css"
		/>
		// Add the new slick-theme.css if you want the default styling
		<link
			rel="stylesheet"
			type="text/css"
			href="assets/slick/slick-1.8.1/slick/slick-theme.css"
		/>
 -->
		<!-- Add the slick-theme.css if you want default styling -->
		<link
			rel="stylesheet"
			type="text/css"
			href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css"
		/>
		<!-- Add the slick-theme.css if you want default styling -->
		<link
			rel="stylesheet"
			type="text/css"
			href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css"
		/>

		<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" /> <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Jekyll with Require.js</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Jekyll with Require.js" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="As i’m sure you know, Jekyll is an excellent static site generator with a prefect setup for blogging. This blog is built with Jekyll. It is writen in ruby, and the real star of the show is the liquid markup templating language." />
<meta property="og:description" content="As i’m sure you know, Jekyll is an excellent static site generator with a prefect setup for blogging. This blog is built with Jekyll. It is writen in ruby, and the real star of the show is the liquid markup templating language." />
<link rel="canonical" href="http://localhost:4000/jekyll_with_require" />
<meta property="og:url" content="http://localhost:4000/jekyll_with_require" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-21T11:48:41+02:00" />
<script type="application/ld+json">
{"description":"As i’m sure you know, Jekyll is an excellent static site generator with a prefect setup for blogging. This blog is built with Jekyll. It is writen in ruby, and the real star of the show is the liquid markup templating language.","@type":"BlogPosting","url":"http://localhost:4000/jekyll_with_require","headline":"Jekyll with Require.js","dateModified":"2019-07-21T11:48:41+02:00","datePublished":"2019-07-21T11:48:41+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/jekyll_with_require"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

	</head>
	<body>
		<nav id="navbar">
	
	<a href="/" id="Home">
		HOME
	</a>
	
	<a href="/blog.html" id="Blog Index">
		BLOG INDEX
	</a>
	
</nav>

<div id="post-container">
	<h1 class="post-title">JEKYLL WITH REQUIRE.JS</h1>

	<p class="post-date">
		21 Jul 2019  
	</p>
	<img
		class="post-image"
		src="assets/images/2019-07-21.jpg"
	/>
	<p class="post-description">
		
	</p>
	<div class="post-content">
		<p>As i’m sure you know, Jekyll is an excellent static site generator with a prefect setup for blogging. This blog is built with Jekyll. It is writen in ruby, and the real star of the show is the liquid markup templating language.</p>

<h2 id="installation">Installation</h2>

<p>Jekyll is a Ruby gem. You can use RubyGems cli command, gem, to install Jekyll:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install</span> <span class="nt">--user-install</span> bundler jekyll
</code></pre></div></div>

<h2 id="basic-setup">Basic Setup</h2>

<p>Cool. Now Jekyll depends on a very strict file structure in order alot of it’s compiling to work correctly. It looks like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
├── _config.yml
├── _data
|   └── members.yml
├── _drafts
|   ├── begin-with-the-crazy-ideas.md
|   └── on-simplicity-in-technology.md
├── _includes
|   ├── footer.html
|   └── header.html
├── _layouts
|   ├── default.html
|   └── post.html
├── _posts
|   ├── 2007-10-29-why-every-programmer-should-play-nethack.md
|   └── 2009-04-26-barcamp-boston-4-roundup.md
├── _sass
|   ├── _base.scss
|   └── _layout.scss
├── _site
├── .jekyll-metadata
└── index.html <span class="c"># can also be an 'index.md' with valid front matter</span>
</code></pre></div></div>

<p>You can create this entire file setup with a simple cli command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll new myblog
</code></pre></div></div>

<p>that gives you exactly this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>myblog]<span class="nv">$ </span>tree
<span class="nb">.</span>
├── 404.html
├── Gemfile
├── Gemfile.lock
├── _config.yml
├── _posts
│   └── 2019-07-21-welcome-to-jekyll.markdown
├── about.md
└── index.md
</code></pre></div></div>
<p>You will need to add other directories needed by hand. This post isn’t really meant to be a full on Jekyll tutorial, so I will refer you <a href="https://jekyllrb.com/docs/step-by-step/01-setup/">here</a> to get you up and running.</p>

<p>Now, what I loved about Jekyll was it’s intelligent use of the file structure to make it easy to code every little bit of your app in it’s own file. I did this in two ways with the HTML, creating layouts and creating includes. Just put a html file inside of the _inlcudes folder and include it inside the layout like so:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% include home.html %}

</code></pre></div></div>
<p>I created an index.html in the root directory and included all my sections like so:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
# front matter tells Jekyll to process Liquid
# hash marks are not processed, these are comments
title: Home
---

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;head&gt;</span>
		<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;title&gt;</span>nic travis<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;/head&gt;</span>
	<span class="nt">&lt;body&gt;</span>
		<span class="nt">&lt;main&gt;</span>
		
			<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"home"</span><span class="nt">&gt;</span>
				{% include home.html %}
			<span class="nt">&lt;/section&gt;</span>
			{% include navigation.html %}
			<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"about"</span><span class="nt">&gt;</span>
				{% include about.html %}
			<span class="nt">&lt;/section&gt;</span>
			<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"projects"</span><span class="nt">&gt;</span>
				{% include projects.html %}
			<span class="nt">&lt;/section&gt;</span>
			<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"blog"</span><span class="nt">&gt;</span>
				{% include blog.html %}
			<span class="nt">&lt;/section&gt;</span>
			<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"contact"</span><span class="nt">&gt;</span>
				{% include contact.html %}
			<span class="nt">&lt;/section&gt;</span>
			
		<span class="nt">&lt;/main&gt;</span>
	<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<h2 id="front-matter">Front Matter</h2>

<p>The three lines at the top of the file are what Jekyll describes as ‘Front Matter’. It’s a basic yml syntax that tell Jekyll, you need to process this file with all your Jekyll magic. You can define variables, and parameters you can then use inside your Liquid markup. This is very useful for blog posts. Here is an example of a Jekyll post file’s front matter:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: post
title:      "My Awesome Post"
date:       2019-05-29 12:44:11 +0000
permalink:  my_awesome_post
excerpt_separator: <span class="c">&lt;!--more--&gt;</span>
---

This is the first paragraph of my post! I can tell Jekyll which part I want to use an the excerpt by using the excerpt_seperator I defined about like so: <span class="c">&lt;!--more--&gt;</span>

Now, everything after this will be the body of the post but won't be included in the excerpt.
</code></pre></div></div>
<h2 id="data">Data</h2>

<p>Jekyll is designed to be used without a database, obviously since it’s a static site generator, but you can put data to iterate over inside of .yml files inside the _data directory. Here is en example for my navigation links:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Home</span>
  <span class="na">link</span><span class="pi">:</span> <span class="s">/</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">About</span>
  <span class="na">link</span><span class="pi">:</span> <span class="s">/about.html</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Projects</span>
  <span class="na">link</span><span class="pi">:</span> <span class="s">/blog.html</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Blog</span>
  <span class="na">link</span><span class="pi">:</span> <span class="s">/blog.html</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Contact</span>
  <span class="na">link</span><span class="pi">:</span> <span class="s">/contact.html</span>
</code></pre></div></div>

<p>Now, in your html files you can iterate over these links like so:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;nav</span> <span class="na">id=</span><span class="s">"navbar"</span><span class="nt">&gt;</span>
	{% for item in site.data.navigation %}
	<span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"{{ item.name }}"</span><span class="nt">&gt;</span>
		{{ item.name | upcase }}
	<span class="nt">&lt;/a&gt;</span>
	{% endfor %}
<span class="nt">&lt;/nav&gt;</span>

</code></pre></div></div>
<p>I put this code above in _includes/navigation.html. Now I can include it into my layout like so:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
	<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"home"</span><span class="nt">&gt;</span>
		{% include home.html %}
	<span class="nt">&lt;/section&gt;</span>
	{% include navigation.html %}
	<span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">"about"</span><span class="nt">&gt;</span>
		{% include about.html %}
		
</code></pre></div></div>

<p>The liquid template language has tons of its own filters to apply to data inside these template tags. Here is an example where I used the index of the loop, with the forloop.index variable that comes free with liquid, to generate animation delay times for each element:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"project-box hidden"</span> <span class="na">style=</span><span class="s">"animation-delay: {{ forloop.index | divided_by: 5.0 }}s"</span><span class="nt">&gt;</span>

</code></pre></div></div>

<p>Pretty cool, you can display the post date like so:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"post-date"</span><span class="nt">&gt;</span>{{ post.date | date_to_string }}<span class="nt">&lt;/span&gt;</span>

</code></pre></div></div>

<!-- Which will compile to this:

```html

<span class="post-date"></span>

``` -->

<p>I am just scratching the surface of Liquid here, definitely read more <a href="https://shopify.github.io/liquid/">here</a></p>

<h2 id="requirejs">Require.js</h2>

<p>Ok, so I loved how all my files, scss and html were neatly seperated and included in the index file. I wanted this for me Javascript as well. There are a few ways to do this, Webpack being an obvious other choice, but I decided to go with Require.js. Here is how it works:</p>

<p>Go over <a href="https://requirejs.org/docs/start.html">here</a> to get the installation instructions.</p>

<p>Basically, i just dowload the require.js file, put it inside my js folder, and create a config.js that looks like this:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
	<span class="na">baseUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/assets/js</span><span class="dl">'</span><span class="p">,</span>
	<span class="na">paths</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">carousel</span><span class="p">:</span> <span class="dl">"</span><span class="s2">carousel</span><span class="dl">"</span><span class="p">,</span>
		<span class="na">jquerymodal</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">//cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min</span><span class="dl">"</span><span class="p">],</span>
		<span class="na">jqueryui</span><span class="p">:</span> <span class="dl">"</span><span class="s2">lib/jqueryui.min</span><span class="dl">"</span><span class="p">,</span>
		<span class="na">jquery</span><span class="p">:</span> <span class="dl">"</span><span class="s2">lib/jquery</span><span class="dl">"</span><span class="p">,</span>
		<span class="na">index</span><span class="p">:</span> <span class="dl">"</span><span class="s2">index</span><span class="dl">"</span><span class="p">,</span>
		<span class="na">main</span><span class="p">:</span> <span class="dl">"</span><span class="s2">main</span><span class="dl">"</span><span class="p">,</span>
		<span class="na">slick</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lib/slick.min</span><span class="dl">'</span><span class="p">,</span>
		<span class="na">scrollAnimations</span><span class="p">:</span> <span class="dl">'</span><span class="s1">custom/scrollAnimations</span><span class="dl">'</span>
	<span class="p">},</span>
	<span class="na">shim</span><span class="p">:</span> <span class="p">{</span>
        <span class="cm">/* Set dependencies */</span>
        <span class="na">jquerymodal</span> <span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>
<p>As you can see, you can also load from a CDN this way, as I am doing with the jquerymodal library. This file knows what requirejs is because it is defined in the html layout like this:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">data-main=</span><span class="s">"assets/js/config"</span> <span class="na">src=</span><span class="s">"assets/js/require.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<p>We are creating, in config.js, what require.js calls module IDs, so to easier define them when including them in other files. The baseUrl just lets require know where all of these files reside, my js directory tree looks like this:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assets/js
├── config.js
├── custom
│   └── scrollAnimations.js
├── index.js
├── lib
│   ├── carousel.js
│   ├── jquery.js
│   ├── jqueryui.min.js
│   └── slick.min.js
└── require.js
</code></pre></div></div>
<p>As you can see, I have all of my vendor librarys in lib, and all of my custom made scripts in custom. I load everything into index.js like so:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
	<span class="nx">define</span><span class="p">([</span><span class="dl">"</span><span class="s2">jquery</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">jqueryui</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">jquerymodal</span><span class="dl">"</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scrollAnimations</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">slick</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">,</span> <span class="nx">$ui</span><span class="p">,</span> <span class="nx">modal</span><span class="p">,</span> <span class="nx">scrollAnimations</span><span class="p">,</span> <span class="nx">slick</span><span class="p">){</span>

		<span class="c1">// all of my logical code will now go here</span>

	<span class="p">}</span>
<span class="p">})();</span>
</code></pre></div></div>

<p>Now, as you can see, it told require.js which libraries I need to run the code inside this define block. I need almost everything, since this is the index, I only define what I actually would need for this block.</p>

<p>Ok, getting close. Now, I was only actually able to get this code to execute in the browser by adding this line to the html layout:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
	<span class="nx">require</span><span class="p">([</span><span class="dl">"</span><span class="s2">config</span><span class="dl">"</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">require</span><span class="p">([</span><span class="dl">'</span><span class="s1">index</span><span class="dl">'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">all js loaded</span><span class="dl">'</span><span class="p">)</span>
		<span class="p">})</span>
	<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>That’s what actually loads, and executes the code inside index. Now, all my js is conveniently seperated into different files to help keep my sanity when trouble shooting, which is the main reason I went down this road. But other benefits of require.js is it will optimize all your code, combine it into onw minified js file, for production. That process can be read about in more detail <a href="https://requirejs.org/docs/optimization.html">here</a>.</p>

<p>Thanks for reading everyone, hope this helps.</p>

	</div>
</div>

		<!-- <script
			src="https://code.jquery.com/jquery-3.4.1.js"
			integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
			crossorigin="anonymous"
		></script>
		<script src="assets/js/jquery-ui.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
		<script
			type="text/javascript"
			src="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"
		></script> -->
		<!-- <script
			type="text/javascript"
			src="assets/slick/slick-1.8.1/slick/slick.min.js"
		></script> -->

		<!-- <script src="assets/js/index.js"></script> -->
		<script data-main="assets/js/config" src="assets/js/require.js"></script>
		<script type="text/javascript">
			require(["config"], function() {
				require(['index'], function(){
					console.log('all js loaded')
				})
			});
		</script>
	</body>
</html>
